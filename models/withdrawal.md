# 通用取料退回

通常情况下，物资取料后不可撤销。实际操作中，会出现取料的物资重新返回仓库的情况。比如复合片加工中。工人领取毛坯加工过程中，遇到制品厂盘库，需要收回所有毛坯和成品。这就需要先把已领出但未加工的毛坯退回仓库，仓库再新建出库单交给公司。

考虑到可扩展性，打算设计成通用的模型，取名“取料退回” (Withdrawal), 可以理解为取料操作的逆操作。那个取料需要撤回，就新建关联表建立连接。关联表的名称可以命名为动词格式 (e.g. `withdraw_machining`). 

取料退回的核心属性包括：物资批号、仓库编号、退回数量。仓库签收入库后，此表和通用 Inventory 表再建立关联，实现库存变化记账操作。

这么设计的话，立即就会意识到现有的取料操作设计得不好,也可以采用类似的方式。

Withdrawal Schema
---------------------------------------------------------------------------
Column                              | Type      | Null | Note
------------------------------------|-----------|------|-------
`id`                                | int       | No   | 
`branch_id`                         | int       | No   | 
`name`                              | string    | No   | 区分类别的名称 key. 如 `machining`
`unit_id`                           | int       | No   | 
`warehouse_id`                      | int       | No   | 
`quantity`                          | int       | Yes  | 退回数量
`status`                            | int       | No   | 已创建(1)、已交付(3)、已完成(9)
